(this["webpackJsonp@godwoken-polyman/client"]=this["webpackJsonp@godwoken-polyman/client"]||[]).push([[0],{274:function(e,t,n){},29:function(e,t,n){"use strict";(function(e){var r=n(107),a=n.n(r),c=n(37);t.a={convertTimestamp:function(e){return"string"===typeof e?new Date(parseInt(e)).toLocaleTimeString():new Date(e).toLocaleTimeString()},hex2dec:function(e){return BigInt(e).toString(10)},dec2hex:function(e){return BigInt(e).toString(16)},shannon2CKB:function(e){return a.a.divide(a.a.BigInt(e),a.a.BigInt(1e8)).toString(10)},CKB2shannon:function(e){return BigInt(e).toString(10)+"00000000"},isObjectInArray:function(e,t){for(var n=0;n<t.length;n++)if(JSON.stringify(t[n])===JSON.stringify(e))return!0;return!1},arrayBufferToBuffer:function(t){for(var n=e.alloc(t.byteLength),r=new Uint8Array(t),a=0;a<n.length;++a)n[a]=r[a];return n},get_env_mode:function(){return"development"===c.mode?"development":"production"},asyncSleep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))},readDataFromFile:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){var n=e.target.result;t({status:"ok",data:n})},r.onerror=function(e){t({status:"failed",error:e})},r.onabort=function(){t({status:"failed",error:"user abort."})},r.readAsBinaryString(e)}))}}}).call(this,n(6).Buffer)},295:function(e,t,n){},298:function(e,t,n){},306:function(e,t){},336:function(e,t){},338:function(e,t){},362:function(e,t){},37:function(e){e.exports=JSON.parse('{"development_server_url":"http://localhost:6101","web3_server_url":"http://localhost:8024","production_server_url":"https://your.domain","mode":"development"}')},414:function(e,t){},416:function(e,t){},448:function(e,t){},453:function(e,t){},455:function(e,t){},462:function(e,t){},464:function(e,t){},475:function(e,t){},489:function(e,t){},578:function(e,t,n){},783:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(41),o=n.n(c),s=(n(274),n(265)),i=n(19),u=n(38),l=n(3),d=n.n(l),p=n(10),f=n(15),h=n(21),b=n(5),x=n(8),g=n(18),j=n.n(g),v=n(37),O=n(29);j.a.defaults.withCredentials=!0;var m=function(){function e(){Object(b.a)(this,e),this.base_url=void 0,this.base_url="development"===O.a.get_env_mode()?v.development_server_url:v.production_server_url}return Object(x.a)(e,[{key:"getRollupTypeHash",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(this.base_url,"/get_rollup_type_hash"),{params:{}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getEthAccountLockConfig",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(this.base_url,"/get_eth_acccount_lock"),{params:{}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(this.base_url,"/get_layer2_balance"),{params:{eth_address:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSudtBalance",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(this.base_url,"/get_layer2_sudt_balance"),{params:{eth_address:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"issueToken",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(this.base_url,"/issue_token"),{params:{}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSudtToken",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(this.base_url,"/get_sudt_token"),{});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSudtTokenTotalAmount",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(this.base_url,"/get_sudt_token_total_amount"),{});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deposit",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(this.base_url,"/deposit"),{params:{eth_address:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deposit_sudt",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(this.base_url,"/deposit_sudt"),{params:{eth_address:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"transfer",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,r,a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("".concat(this.base_url,"/transfer"),{data:{to_id:t,amount:n,fee:r,eth_address:a}});case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"deployContract",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("".concat(this.base_url,"/deploy_contract"),{data:{contract_code:t,eth_address:n}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deployErc20ProxyContract",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("".concat(this.base_url,"/deploy_erc20_proxy_contract"),{data:{eth_address:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deploySudtContract",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("".concat(this.base_url,"/deploy_sudt_contract"),{data:{}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendL2Transaction",value:function(){var e=Object(p.a)(d.a.mark((function e(t,n,r,a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("".concat(this.base_url,"/send_l2_tx"),{data:{raw_l2tx:t,signature:n,type:r,l2_script_args:a}});case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"getTransactionReceipt",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(this.base_url,"/get_tx_receipt"),{params:{tx_hash:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getContractAddrByAccountId",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(this.base_url,"/get_contract_addr_by_account_id"),{params:{account_id:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChainId",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(this.base_url,"/get_chain_id"),{params:{}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();j.a.defaults.withCredentials=!1;var y=function(){function e(){Object(b.a)(this,e),this.url=void 0,this.url=v.web3_server_url}return Object(x.a)(e,[{key:"getBalance",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post(this.url,{jsonrpc:"2.0",id:+new Date,method:"eth_getBalance",params:[t]},{headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.data.result);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransactionReceipt",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post(this.url,{jsonrpc:"2.0",id:+new Date,method:"eth_getTransactionReceipt",params:[t]},{headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.data.result);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"waitForTransactionReceipt",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r,a,c,o=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:300,r=o.length>2&&void 0!==o[2]?o[2]:3,a=0;case 3:if(!(a<n)){e.next=15;break}return e.next=6,this.getTransactionReceipt(t);case 6:return c=e.sent,console.log("keep fetching tx_receipt with ".concat(t,", waited for ").concat(a," seconds")),e.next=10,O.a.asyncSleep(1e3*r);case 10:if(null===c){e.next=12;break}return e.abrupt("return");case 12:a+=r,e.next=3;break;case 15:throw new Error("cannot fetch tx_receipt with tx ".concat(t," in ").concat(n," seconds"));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),k={page:{maxWidth:"700px",margin:"atuo",textAlign:"center"},content:{width:"100%",marginTop:"20px",textAlign:"left"},main_color:{color:"#3CC68A"},background_color:{color:"#282c34"},wide_card:{padding:"10px",textAlign:"left"},wide_card_title:{color:"#3CC68A",textAlign:"center"},blockquote:{background:"#f9f9f9",borderLeft:"10px solid #3CC68A",margin:"1.5em 10px",padding:"1em 2em",color:"black"},clear_path:{clear:"both"},li:{listStyleType:"none",marginLeft:"0"},ul:{listStyleType:"none",paddingLeft:"0"},status_bar:{width:"100%",padding:"5px",margin:"10px 0px",clear:"both",justifyContent:"center"},status_bar_title:{float:"left",fontSize:"16px",fontWeight:"bolder"},status_bar_btn:{float:"right",textAlign:"center",marginRight:"20px"},modal:{maxWidth:"700px",maxHeight:"80%",overflowY:"scroll",padding:"20px",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto"},paper:{backgroundColor:"gray",border:"2px solid #000",boxShadow:"10px",padding:"10px",width:"100%",outline:"none"},hidden_btn:{width:"100%",border:"0",backgroundColor:"rgb(0,0,0, 0)",height:"0",cursor:"auto"},single_line_code:{background:"white",color:"gray",padding:"2px",borderRadius:"5px"},explain_text:{fontSize:"14px",color:"gray",margin:"20px"},input_wrap:{padding:"2px 5px",marginBottom:"10px",display:"block",background:"white"},input:{width:"100%",outline:"none",fontSize:"14px",border:"0",overflowX:"scroll",verticalAlign:"text-bottom"},describe_img_wrapper:{maxWidth:"100px",margin:"40px auto"},describe_img:{width:"100%",height:"100%",background:"#282c34"},describe_img_footnote:{textAlign:"center",fontSize:"11px"}},_=n(87),w=(n(295),n(1)),S=Object(h.a)(Object(h.a)({},k),{loader:{border:"4px solid rgba(60, 198, 138, 0.2)",borderLeft:"4px solid",animation:"load 1s infinite linear",borderRadius:"50%",width:"25px",height:"25px",margin:"0 auto"},btn:{padding:"0.5rem 1rem",fontSize:"12px",color:"white",borderRadius:"6px",border:"1px solid "+k.main_color.color,outline:"none",backgroundColor:"rgb(255,255,255, 0)",cursor:"pointer"},btndiv:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},btn_hover:{padding:"0.5rem 1rem",fontSize:"12px",color:"white",borderRadius:"6px",border:"1px solid "+k.main_color.color,outline:"none",backgroundColor:k.main_color.color,cursor:"pointer"}}),C=function(){return Object(w.jsx)("div",{style:S.loader})};function L(e){var t=Object(r.useState)(0),n=Object(f.a)(t,2),a=n[0],c=(n[1],Object(r.useState)(0)),o=Object(f.a)(c,2),s=o[0],i=(o[1],Object(r.useRef)(null)),u=void 0===e.isLoading,l=Object(r.useState)(!1),b=Object(f.a)(l,2),x=b[0],g=b[1],j=Object(r.useState)(!u&&e.isLoading),v=Object(f.a)(j,2),O=v[0],m=v[1],y=Object(r.useState)(!1),k=Object(f.a)(y,2),L=k[0],M=k[1],z=function(){var t=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u&&m(!0),t.next=3,e.onClick();case 3:u&&m(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){if(void 0!==e.isLoading&&m(e.isLoading),O&&g(!0),!O&&x){var t=setTimeout((function(){g(!1)}),400);return function(){clearTimeout(t)}}}),[e.isLoading,O,x]);var A=Object(_.b)({opacity:x?1:0}),B=Object(_.b)({opacity:x?0:1}),N=function(){M(!L)},T=a&&s?{width:"".concat(a,"px"),height:"".concat(s,"px")}:{},J=L?S.btn_hover:S.btn,E=Object(h.a)(Object(h.a)({},J),T),F="undefined"===e.custom_style?{}:e.custom_style,R=Object(h.a)(Object(h.a)({},E),F);return Object(w.jsx)("button",{style:R,onClick:z,onMouseEnter:N,onMouseLeave:N,ref:i,children:x?Object(w.jsx)(_.a.div,{style:A,children:Object(w.jsx)(C,{})}):Object(w.jsx)(_.a.div,{style:B,children:e.text})})}var M=n(54),z=(n(297),n(298),Object(h.a)(Object(h.a)({},k),{panel:{},toast:{padding:"10px",fontSize:"14px"}}));function A(){return Object(w.jsx)("div",{children:Object(w.jsx)(M.a,{style:z.panel,toastStyle:z.toast})})}var B=function(e,t){switch(t){case"error":M.b.error(e);break;case"success":M.b.success(e);break;case"warning":M.b.warn(e);break;case"info":M.b.info(e);break;case"dark":M.b.dark(e);break;default:M.b.error(e)}},N=n(804),T=n(806),J=n(805),E=n(266),F=n(803);var R=function(e,t,n,a){var c=a||[],o=Object(f.a)(c,2),s=o[0],i=o[1];if(s===i&&"number"===typeof s)throw new Error("Only define this when the icon is not a square");var u=function(e,r){var c=e.sx,o=Object(E.a)(e,["sx"]),u=a?Object(h.a)({width:s,height:i},c):c;return Object(w.jsx)(F.a,Object(h.a)(Object(h.a)({viewBox:n},o),{},{ref:r,children:t,sx:u}))};return u.displayName="Icon (".concat(e,")"),Object(r.memo)(Object(r.forwardRef)(u))}("MetaMask",Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("path",{d:"M0 12C0 5.373 5.373 0 12 0h24c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H12C5.373 48 0 42.627 0 36V12z",fill:"#fff"}),Object(w.jsx)("path",{d:"M38.709 10l-11.8 8.75 2.195-5.157L38.709 10z",fill:"#E17726",stroke:"#E17726",strokeLinecap:"round",strokeLinejoin:"round"}),Object(w.jsx)("path",{d:"M11.493 10l11.694 8.832-2.09-5.239L11.494 10zM34.464 30.288l-3.14 4.807 6.722 1.855 1.926-6.557-5.508-.105zM10.247 30.393l1.914 6.557 6.71-1.855-3.127-4.807-5.497.105z",fill:"#E27625",stroke:"#E27625",strokeLinecap:"round",strokeLinejoin:"round"}),Object(w.jsx)("path",{d:"M18.509 22.168l-1.867 2.824 6.652.303-.222-7.175-4.563 4.048zM31.696 22.168l-4.633-4.13-.152 7.257 6.652-.303-1.867-2.824zM18.872 35.095l4.027-1.948-3.466-2.707-.56 4.655zM27.31 33.147l4.014 1.948-.549-4.655-3.466 2.707z",fill:"#E27625",stroke:"#E27625",strokeLinecap:"round",strokeLinejoin:"round"}),Object(w.jsx)("path",{d:"M31.322 35.095l-4.015-1.948.327 2.613-.035 1.108 3.723-1.773zM18.87 35.095l3.735 1.773-.023-1.108.315-2.613-4.026 1.948z",fill:"#D5BFB2",stroke:"#D5BFB2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(w.jsx)("path",{d:"M22.674 28.713l-3.338-.98 2.358-1.085.98 2.065zM27.528 28.713l.98-2.065 2.37 1.085-3.35.98z",fill:"#233447",stroke:"#233447",strokeLinecap:"round",strokeLinejoin:"round"}),Object(w.jsx)("path",{d:"M18.87 35.095l.583-4.806-3.71.104 3.127 4.702zM30.75 30.288l.571 4.807 3.14-4.701-3.712-.105zM33.566 24.992l-6.652.303.618 3.418.98-2.065 2.37 1.085 2.684-2.741zM19.336 27.733l2.357-1.085.98 2.065.619-3.418-6.652-.303 2.696 2.741z",fill:"#CC6228",stroke:"#CC6228",strokeLinecap:"round",strokeLinejoin:"round"}),Object(w.jsx)("path",{d:"M16.64 24.992l2.79 5.448-.094-2.707-2.696-2.741zM30.874 27.733l-.105 2.707 2.79-5.448-2.685 2.741zM23.29 25.295l-.618 3.418.781 4.037.176-5.32-.339-2.135zM26.912 25.295l-.327 2.123.163 5.332.782-4.037-.619-3.418z",fill:"#E27525",stroke:"#E27525",strokeLinecap:"round",strokeLinejoin:"round"}),Object(w.jsx)("path",{d:"M27.528 28.713l-.782 4.037.56.397 3.466-2.707.105-2.707-3.35.98zM19.336 27.733l.094 2.707 3.466 2.707.56-.397-.782-4.037-3.338-.98z",fill:"#F5841F",stroke:"#F5841F",strokeLinecap:"round",strokeLinejoin:"round"}),Object(w.jsx)("path",{d:"M27.6 36.868l.035-1.108-.303-.257h-4.458l-.292.257.023 1.108-3.734-1.773 1.307 1.073L22.827 38h4.54l2.66-1.832 1.296-1.073-3.723 1.773z",fill:"#C0AC9D",stroke:"#C0AC9D",strokeLinecap:"round",strokeLinejoin:"round"}),Object(w.jsx)("path",{d:"M27.308 33.147l-.56-.397h-3.29l-.561.397-.315 2.613.292-.257h4.458l.303.257-.327-2.613z",fill:"#161616",stroke:"#161616",strokeLinecap:"round",strokeLinejoin:"round"}),Object(w.jsx)("path",{d:"M39.211 19.322l.992-4.83L38.71 10l-11.402 8.458 4.388 3.71 6.197 1.809 1.365-1.599-.595-.431.945-.864-.723-.56.945-.723-.619-.478zM10 14.492l1.004 4.83-.642.478.957.723-.724.56.945.864-.595.431 1.366 1.599 6.197-1.809 4.388-3.71L11.494 10 10 14.492z",fill:"#763E1A",stroke:"#763E1A",strokeLinecap:"round",strokeLinejoin:"round"}),Object(w.jsx)("path",{d:"M37.896 23.977L31.7 22.168l1.867 2.824-2.789 5.448 3.688-.047h5.508l-2.077-6.416zM18.51 22.168l-6.198 1.809-2.065 6.416h5.496l3.688.047-2.789-5.448 1.867-2.824zM26.913 25.295l.397-6.837 1.797-4.865h-8.006l1.798 4.865.396 6.837.152 2.147.012 5.308h3.29l.013-5.308.151-2.147z",fill:"#F5841F",stroke:"#F5841F",strokeLinecap:"round",strokeLinejoin:"round"})]}),"0 0 48 48"),I=n(255),D=n(147),P=n.n(D),W=n(258),H=n.n(W),K=n(257),q=n.n(K),U={wallet_container:{maxWidth:"300px",maxHeigth:"20px",margin:"40px auto",display:"flex",padding:"5px",alignItems:"center",borderRadius:"30px",justifyContent:"center",backgroundColor:"rgb(60, 198, 138)"},status:{fontSize:"18px",color:"gray",margin:"20px"},status_item:{boder:"1px solid gray",padding:"5px",marginRight:"10px"},balance:{color:"whitesmoke",fontSize:"20px"},dark_green:{color:"#065a06"}};function V(e){var t=e.onUpdateWalletAddress,n=e.triggerUpdateBalanceMethod,a=Object(r.useState)(),c=Object(f.a)(a,2),o=c[0],s=c[1],i=Object(r.useState)(),u=Object(f.a)(i,2),l=(u[0],u[1]),h=Object(r.useState)(),b=Object(f.a)(h,2),x=(b[0],b[1]),g=Object(r.useState)(!0),j=Object(f.a)(g,2),v=(j[0],j[1]),k=Object(r.useState)("0"),_=Object(f.a)(k,2),S=_[0],C=_[1],M=(q.a,U.dark_green.color,H.a,P.a,U.dark_green.color,P.a,function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z()){e.next=3;break}throw B("please install MetaMask!"),new Error("please install MetaMask!");case 3:return console.log(window.ethereum.isConnected()),window.ethereum.isConnected()&&(console.log("is conneted..."),v(!0)),e.next=7,A();case 7:N(),T(),J(),E();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),z=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I.a.isMetaMaskInstalled()){e.next=6;break}return e.next=3,l("installed");case 3:return e.abrupt("return",!0);case 6:return e.next=8,l("not-installed");case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"eth_chainId"});case 3:return t=e.sent,console.log("current chain id: ".concat(t)),n=new m,e.next=8,n.getChainId();case 8:if(r=e.sent,console.log(r),a=r.data,t===a){e.next=16;break}return console.error("current chain id not equals ".concat(t," !== polyjuice chain id ").concat(a)),e.next=15,x(!1);case 15:return e.abrupt("return",!1);case 16:return e.next=18,x(!0);case 18:return e.abrupt("return",!0);case 21:return e.prev=21,e.t0=e.catch(0),B(JSON.stringify(e.t0,null,2)),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}(),N=function(){window.ethereum.on("chainChanged",(function(e){console.log("chain_id changed!"),window.location.reload()}))},T=function(){window.ethereum.on("accountsChanged",(function(e){e.length>0?s(e[0]):(s(void 0),l("diconnect"),B("please reconnect to metamask!"))}))},J=function(){window.ethereum.on("connect",(function(){console.log("connect!!!"),v(!0)})),window.ethereum.on("disconnect",(function(){v(!1)}))},E=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:l("connected"),s(window.ethereum.selectedAddress),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),B(JSON.stringify(e.t0,null,2)),l("connect-failed"),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return t=new y,e.prev=3,console.log(o),e.next=7,t.getBalance(o);case 7:if(n=e.sent,console.log(n),n){e.next=11;break}return e.abrupt("return",console.log("balance is undefinded."));case 11:return r=BigInt(n).toString(),console.log(r),e.next=15,C(O.a.shannon2CKB(r));case 15:console.log(O.a.shannon2CKB(r)),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(3),console.log("get bablance error"),console.log(e.t0),B(JSON.stringify(e.t0));case 23:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){n&&(n=function(){F()}),M(),F()}),[]),Object(r.useEffect)((function(){t&&t(o),F()}),[o]);return Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{style:U.wallet_container,children:[Object(w.jsx)(R,{}),Object(w.jsx)(L,{custom_style:{fontSize:"25px",fontWeight:"bolder",border:"none"},text:function(e){var t=e.length;return 42!==t?e:e.slice(0,8)+"..."+e.slice(t-6)}(o||"Connect Wallet"),onClick:o?function(){}:E})]}),Object(w.jsx)("div",{children:Object(w.jsxs)("div",{style:U.balance,children:[" ",Object(w.jsxs)("span",{children:[S," CKB ( ",function(e){var t=parseFloat(e)/parseFloat("10000000000");return t>0?t.toFixed(10-e.length+1):t.toFixed(2)}(S),"  pETH )"]})]})})]})}var X=n(26),Y=n(105),G=n.n(Y),Q=n(120),Z=Object(h.a)(Object(h.a)({},k),{container:{},method_item:{textAlign:"left",maxWidth:"700px",margin:"0 auto"},method_box:{fontSize:"14px",border:"1px solid gray",padding:"20px",textAlign:"left",maxWidth:"700px",margin:"0 auto",display:"block"},method_name:{textAlign:"left",fontSize:"16px",padding:"10px 0",color:k.main_color.color},return_value:{border:"1px solid gray",padding:"5px"},param_input:{width:"100%",padding:"5px"},submit_btn:{padding:"5px"},select_abi_file:{fontSize:"14px"},contract_addr_input_container:{maxWidth:"600px",margin:"0 auto"},contract_addr_input:{width:"100%",padding:"5px",fontSize:"16px"},setting_container:{maxWidth:"700px",border:"1px solid gray",margin:"10px auto",padding:"10px 0"},log_container:{maxWidth:"700px",border:"1px solid gray",margin:"10px auto",padding:"10px 0",textAlign:"left"},log_container_title:{fontSize:"16px",color:k.main_color.color,textAlign:"center"},log_main_area:{fontSize:"14px",textAlign:"left",padding:"10px",margin:"5px"}}),$=[];function ee(e){var t=e.godwoken_config,n=t.rollup_type_hash,a=t.eth_account_lock_code_hash,c=t.eth_account_lock_hash_type,o=window.PolyjuiceHttpProvider,s=(new y,Object(r.useState)($)),i=Object(f.a)(s,2),l=i[0],h=i[1],b=Object(r.useState)(),x=Object(f.a)(b,2),g=x[0],j=x[1],m=Object(r.useState)([]),k=Object(f.a)(m,2),_=k[0],S=k[1];Object(r.useEffect)((function(){}),[]);var C=function(){var e=v.web3_server_url,t=new o(e,{godwoken:{rollup_type_hash:n,eth_account_lock:{code_hash:a,hash_type:c}}},l);return new G.a(t)},L=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.next=3,O.a.readDataFromFile(n);case 3:if(r=e.sent,console.log(r),"ok"===r.status){e.next=8;break}throw B("can not read contract abi from file."),new Error("can not read contract abi from file.");case 8:if(a=JSON.parse(r.data),!Array.isArray(a)){e.next=14;break}return e.abrupt("return",a);case 14:if("object"!==typeof a||!a.abi){e.next=18;break}return e.abrupt("return",a.abi);case 18:throw B("not a valid abi file!"),new Error("not a valid abi file!");case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:return n=e.sent,e.next=5,h(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{style:Z.container,children:[Object(w.jsxs)("div",{style:Z.setting_container,children:[Object(w.jsxs)("p",{style:Z.select_abi_file,children:[Object(w.jsx)("label",{children:"Upload Contract ABI\uff1a"}),Object(w.jsx)("input",{type:"file",placeholder:"abi file",onChange:M})]}),Object(w.jsx)("p",{style:Z.contract_addr_input_container,children:Object(w.jsx)("input",{type:"text",placeholder:"contract address",style:Z.contract_addr_input,onChange:function(e){j(e.target.value)}})})]}),Object(w.jsxs)("div",{style:Z.log_container,children:[Object(w.jsx)("div",{style:Z.log_container_title,children:" Logs "}),Object(w.jsx)("div",{style:Z.log_main_area,children:_.map((function(e,t){return Object(w.jsxs)("li",{children:[t,": ",e]},t)}))})]}),function(e){return e.filter((function(e){return"function"===e.type})).map((function(e,t){var n,r=[],a=[],c="0",o=function(e){r[parseInt(e.target.name)]=e.target.value},s=function(){var e=Object(p.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"===t.type){e.next=2;break}throw new Error("expect a function");case 2:if("view"!==t.stateMutability){e.next=12;break}return e.prev=3,e.next=6,i(t,n);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0),B(JSON.stringify(e.t0,null,2));case 12:if("view"===t.stateMutability){e.next=21;break}return e.prev=13,e.next=16,l(t,n);case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(13),B(JSON.stringify(e.t1,null,2));case 21:case"end":return e.stop()}}),e,null,[[3,8],[13,18]])})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(p.a)(d.a.mark((function e(t,n){var r,c,o,s,i,l,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Q.encodeFunctionCall(t,n),o={gasPrice:"0x0000",gas:"0x9184e72a000",to:g||"0x"+"0".repeat(40),from:window.ethereum.selectedAddress,data:c},console.log(o),s=C(),e.next=6,s.eth.call(o);case 6:for(i=e.sent,console.log("web3.eth.call result: ".concat(JSON.stringify(i,null,2))),l=Q.decodeParameters(null===(r=t.outputs)||void 0===r?void 0:r.map((function(e){return e.type})),i),console.log(l),p=0;p<l.__length__;p++)a[p]=l[p+""];return console.log(a),B(JSON.stringify(a,null,2),"success"),e.next=15,S((function(e){return[].concat(Object(u.a)(e),['call "'.concat(t.name,'", receive return value: ').concat(JSON.stringify(a))])}));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(p.a)(d.a.mark((function e(t,n){var r,a,o,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Q.encodeFunctionCall(t,n),console.log(c),a=t.payable?"0x"+BigInt(c).toString(16):"0x00",o={gasPrice:"0x0000",gas:"0x9184e72a000",to:g||"0x"+"0".repeat(40),from:window.ethereum.selectedAddress,value:a,data:r},console.log(o),s=C(),e.next=8,s.eth.sendTransaction(o);case 8:return i=e.sent,console.log("txReceipt: ".concat(JSON.stringify(i,null,2))),B("tx commited. open your console page to check txReceipt.","success"),e.next=13,S((function(e){return[].concat(Object(u.a)(e),['call "'.concat(t.name,'", tx ').concat(i.transactionHash," commited.")])}));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{style:Z.method_item,children:[Object(w.jsxs)("span",{style:Z.method_name,children:[" ",t+1,". ",e.name," "]}),Object(w.jsxs)("li",{style:Z.method_box,children:[e.payable&&Object(w.jsx)("p",{children:Object(w.jsx)("input",{style:Z.param_input,onChange:function(e){console.log(e.target.value),c=Object(X.toWei)(e.target.value)},name:"value_"+t,type:"text",placeholder:"value: ETH"})}),Object(w.jsxs)("p",{children:[" ",null===(n=e.inputs)||void 0===n?void 0:n.map((function(e,t){return r.push(""),Object(w.jsx)("li",{children:Object(w.jsx)("p",{children:Object(w.jsx)("input",{style:Z.param_input,onChange:o,name:t+"",type:"text",placeholder:e.type})})},"intputs_"+t)}))]}),Object(w.jsxs)("button",{style:Z.submit_btn,onClick:function(){s(e,r)},children:[" ","view"===e.stateMutability?"call":"send tx"," "]})]},t)," "]})}))}(l)]})}n(578);var te=Object(h.a)(Object(h.a)({},k),{header:{minHeight:"300px",margin:"10px"},address:{color:"#a0eec0"},balance:{color:"whitesmoke",fontSize:"20px"},button:{fontSize:"25px",width:"100%",maxWidth:"700px",margin:"10px",padding:"0.7rem 1.2rem"},contract_container:{width:"100%",maxWidth:"700px",margin:"30px auto",textAlign:"left",fontSize:"15px",border:"1px solid gray",color:"gray"},contract_li:{listStyleType:"none"},descrip_sudt:{width:"600px",fontSize:"13px",margin:"30px auto",textAlign:"left"},placeholder_for_experimental:{width:"700px",margin:"0 auto",marginTop:"50px"}});var ne=function(){var e=window.PolyjuiceHttpProvider,t=Object(r.useRef)(null),n=Object(r.useState)(),a=Object(f.a)(n,2),c=a[0],o=a[1],s=Object(r.useState)("0"),i=Object(f.a)(s,2),l=i[0],h=i[1],b=Object(r.useState)(!1),x=Object(f.a)(b,2),g=x[0],j=x[1],k=Object(r.useState)([]),_=Object(f.a)(k,2),S=_[0],C=_[1],M=Object(r.useState)(),z=Object(f.a)(M,2),E=z[0],F=z[1],R=Object(r.useState)(),I=Object(f.a)(R,2),D=I[0],P=I[1],W=Object(r.useState)(),H=Object(f.a)(W,2),K=H[0],q=H[1],U=Object(r.useState)(),X=Object(f.a)(U,2),Y=X[0],Q=X[1];Object(r.useEffect)((function(){c&&(re(),ae(),ce()),oe(),se()}),[c]);var Z,$=function(){},ne=function(){var t=v.web3_server_url,n={godwoken:{rollup_type_hash:E,eth_account_lock:{code_hash:null===D||void 0===D?void 0:D.code_hash,hash_type:null===D||void 0===D?void 0:D.hash_type}}},r=new e(t,n);return new G.a(r)},re=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return t=new m,e.prev=3,e.next=6,t.getSudtBalance(c);case 6:if("ok"===(n=e.sent).status){e.next=9;break}return e.abrupt("return",console.error("failed to get sudt balance from account. issue sudt token then ".concat(JSON.stringify(n.error))));case 9:return e.next=11,h(O.a.shannon2CKB(n.data));case 11:console.log(O.a.shannon2CKB(n.data)),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("get sudt bablance error"),console.log(e.t0),B(JSON.stringify(e.t0));case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new m,e.prev=1,e.next=4,t.getSudtToken();case 4:if(n=e.sent,console.log(n),"ok"===n.status){e.next=8;break}return e.abrupt("return",console.log("failed to get sudt token. ".concat(JSON.stringify(n.error))));case 8:return e.next=10,q(n.data.sudt_token);case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("get sudt token error"),console.log(e.t0),B(JSON.stringify(e.t0));case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new m,e.prev=1,e.next=4,t.getSudtTokenTotalAmount();case 4:if(n=e.sent,console.log(n),"ok"===n.status){e.next=8;break}return e.abrupt("return",console.log("failed to get sudt token. ".concat(JSON.stringify(n.error))));case 8:return e.next=10,Q(n.data.total_amount);case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("get sudt token amount error"),console.log(e.t0),B(JSON.stringify(e.t0));case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new m,e.prev=1,e.next=4,t.getRollupTypeHash();case 4:if("ok"===(n=e.sent).status){e.next=7;break}return e.abrupt("return",B("failed to get rollup type hash. ".concat(JSON.stringify(n.error))));case 7:F(n.data),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("get rollup type hash error"),console.log(e.t0),B(JSON.stringify(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new m,e.prev=1,e.next=4,t.getEthAccountLockConfig();case 4:if("ok"===(n=e.sent).status){e.next=7;break}return e.abrupt("return",B("failed to get eth_account_lock config. ".concat(JSON.stringify(n.error))));case 7:P(n.data),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("get eth account lock error"),console.log(e.t0),B(JSON.stringify(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",B("metamask account not found."));case 2:return t=new m,e.prev=3,e.next=6,t.deposit(c);case 6:n=e.sent,console.log(n),"ok"===n.status?B("your account id: ".concat(n.data.account_id),"success"):B(JSON.stringify(n.error)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),B(JSON.stringify(e.t0));case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",B("metamask account not found."));case 2:return t=new m,e.prev=3,e.next=6,t.deposit_sudt(c);case 6:if(n=e.sent,console.log(n),"ok"!==n.status){e.next=15;break}return B("your account id: ".concat(n.data.account_id),"success"),console.log("res.data.l2_sudt_script_hash: ".concat(n.data.l2_sudt_script_hash)),e.next=13,re();case 13:e.next=16;break;case 15:B(JSON.stringify(n.error));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),B(JSON.stringify(e.t0));case 21:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new m,e.prev=1,e.next=4,t.issueToken();case 4:n=e.sent,console.log(n),"ok"===n.status?B("issue a sudt token: ".concat(n.data.sudt_token),"success"):B(JSON.stringify(n.error,null,2)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),B(JSON.stringify(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",B("input ref not found."));case 2:t.current.click();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",B("upload contract binary file first!"));case 2:if(c){e.next=4;break}return e.abrupt("return",B("window.ethereum.selectedAddress not found."));case 4:return new y,n=ne(),e.prev=6,r={nonce:0,gasPrice:"0x0000",gas:"0x9184e72a000",to:"0x"+"0".repeat(40),from:window.ethereum.selectedAddress,value:"0x00",data:t,chainId:3},console.log(r),e.next=11,n.eth.sendTransaction(r);case 11:if(a=e.sent,console.log("txReceipt: ".concat(JSON.stringify(a,null,2))),o=a.contractAddress,console.log("contract address: ".concat(o)),o){e.next=17;break}return e.abrupt("return",B("could not find your contract address in txReceipt: ".concat(a)));case 17:B("your contract address: ".concat(o),"success"),C((function(e){return[].concat(Object(u.a)(e),[o])})),e.next=25;break;case 21:return e.prev=21,e.t0=e.catch(6),console.log(e.t0),e.abrupt("return",B("could not finished signing process. \n\n ".concat(JSON.stringify(e.t0))));case 25:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],j(!0),e.next=4,be(n);case 4:if("ok"===(r=e.sent).status){e.next=8;break}return j(!1),e.abrupt("return",B("can not read contract code from file."));case 8:return a=r.data,console.log("reading contract code hex:"),console.log(a),e.next=14,pe(a);case 14:j(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,r,a,o,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",B("window.ethereum.selectedAddress not found."));case 2:return t=new m,new y,e.prev=4,e.next=7,t.deployErc20ProxyContract(c);case 7:return"ok"!==(n=e.sent).status&&B(JSON.stringify(n.error,null,2)),r=n.data,console.log(JSON.stringify(r,null,2)),e.prev=11,a={nonce:0,gasPrice:"0x0000",gas:"0x9184e72a000",to:"0x"+"0".repeat(40),from:window.ethereum.selectedAddress,value:"0x00",data:r,chainId:3},o=ne(),e.next=16,o.eth.sendTransaction(a);case 16:if(s=e.sent,console.log("txReceipt: ".concat(JSON.stringify(s,null,2))),i=s.contractAddress,console.log("contract address: ".concat(i)),i){e.next=22;break}return e.abrupt("return",B("could not find your contract address in txReceipt: ".concat(s)));case 22:B("your contract address: ".concat(i),"success"),C((function(e){return[].concat(Object(u.a)(e),[i])})),e.next=30;break;case 26:return e.prev=26,e.t0=e.catch(11),console.log(e.t0),e.abrupt("return",B("could not finished signing process. \n\n ".concat(JSON.stringify(e.t0))));case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(4),B(JSON.stringify(e.t1));case 35:case"end":return e.stop()}}),e,null,[[4,32],[11,26]])})));return function(){return e.apply(this,arguments)}}(),be=function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){var n="0x".concat(e.target.result);t({status:"ok",data:n})},r.onerror=function(e){t({status:"failed",error:e})},r.onabort=function(){t({status:"failed",error:"user abort."})},r.readAsBinaryString(e)}))},xe="\nsymbol: MLMC\nsudt token: ".concat((Z=K,Z?Z.slice(0,6)+"..."+Z.slice(Z.length-4):"undefined"),"\ntotal amount: ").concat(O.a.shannon2CKB(Y||""),"\ndecimal places: 8 (same with CKB)\n");return Object(w.jsx)("div",{children:Object(w.jsx)("div",{className:"App",children:Object(w.jsxs)("header",{className:"App-header",children:[Object(w.jsx)(A,{}),Object(w.jsx)(N.a,{container:!0,spacing:3,children:Object(w.jsx)(N.a,{item:!0,xs:12,style:te.header,children:Object(w.jsx)(V,{onUpdateWalletAddress:function(e){e&&o(e)},triggerUpdateBalanceMethod:$})})}),Object(w.jsx)(N.a,{container:!0,spacing:3,children:Object(w.jsx)(N.a,{item:!0,xs:12,children:Object(w.jsx)(L,{text:"Deposit CKB",onClick:ie,custom_style:te.button})})}),Object(w.jsx)(N.a,{container:!0,spacing:3,children:Object(w.jsxs)(N.a,{item:!0,xs:12,children:[Object(w.jsx)(L,{text:"Deploy ETH Contract",isLoading:g,onClick:de,custom_style:te.button}),Object(w.jsx)("input",{type:"file",ref:t,onChange:fe,hidden:!0})]})}),Object(w.jsx)("hr",{}),Object(w.jsx)(N.a,{container:!0,spacing:3,children:Object(w.jsxs)(N.a,{item:!0,xs:12,style:te.contract_container,children:["Contract Address:",Object(w.jsx)(T.a,{language:"javascript",style:J.a,children:S.length>0?S.join("\n"):"nothing."})]})}),Object(w.jsx)("hr",{}),Object(w.jsx)("h4",{children:" Contract Debugger (experimental) "}),Object(w.jsx)(N.a,{container:!0,spacing:3,children:Object(w.jsx)(N.a,{item:!0,xs:12,children:Object(w.jsx)(ee,{godwoken_config:{rollup_type_hash:E,eth_account_lock_code_hash:null===D||void 0===D?void 0:D.code_hash,eth_account_lock_hash_type:null===D||void 0===D?void 0:D.hash_type}})})}),Object(w.jsx)("hr",{}),Object(w.jsx)("h4",{children:" Sudt Demo Section (experimental) "}),Object(w.jsx)(N.a,{container:!0,spacing:3,children:Object(w.jsx)(N.a,{item:!0,xs:12,children:Object(w.jsxs)("div",{style:te.balance,children:["Balance: ",Object(w.jsxs)("span",{children:[l," MLMC "]})]})})}),Object(w.jsx)("hr",{}),Object(w.jsx)(N.a,{container:!0,spacing:5,children:Object(w.jsx)(N.a,{item:!0,xs:12,children:Object(w.jsxs)("div",{style:te.descrip_sudt,children:[Object(w.jsx)("p",{children:"below is a simple demo to show how erc20-proxy contract works in godwoken-polyjuice."}),Object(w.jsxs)("p",{children:["the purpose of erc20-proxy contract is to mount sudt(",Object(w.jsx)("a",{href:"https://talk.nervos.org/t/rfc-simple-udt-draft-spec/4333",children:"simple user defined token"}),") in CKB with some sort of ERC20 token in ETH. so you can use ERC20 contract to transfer sudt token in CKB."]}),Object(w.jsx)("p",{children:"Note:"}),Object(w.jsx)("p",{children:"you should issue sudt token first if sudt token total amount is 0."}),Object(w.jsx)("p",{children:"depositting sudt by defaut will give you 400 sudt each time. and the capacity of ckb required is also 400 ckb, so the balance of your layer2 ckb will also increase. "}),Object(w.jsx)("hr",{}),Object(w.jsx)("p",{children:"How to deploy?"}),Object(w.jsx)("p",{children:"when you click the third button to deploy erc20-proxy contract, the kicker just retrun an predefined erc20-proxy contract bytecode and assemble an deployed tx for you. after you sign this tx with metamask(using personal sign method), the proxy will be deployed. "}),Object(w.jsxs)("p",{children:["then you can take the contract address and the abi file (you can download from ",Object(w.jsx)("a",{href:"https://github.com/nervosnetwork/godwoken-polyjuice/blob/main/solidity/erc20/SudtERC20Proxy.abi",children:"here"}),"), and interact with the contract through the simple Contract Debugger on kicker."]})]})})}),Object(w.jsx)(N.a,{container:!0,spacing:3,children:Object(w.jsxs)(N.a,{item:!0,xs:12,style:te.contract_container,children:[Object(w.jsx)("h5",{children:"My Little Meow Coin"}),Object(w.jsx)(T.a,{language:"javascript",style:J.a,children:xe})]})}),Object(w.jsx)(N.a,{container:!0,spacing:3,children:Object(w.jsx)(N.a,{item:!0,xs:12,children:Object(w.jsx)(L,{text:"Issue Sudt Token",onClick:le,custom_style:te.button})})}),Object(w.jsx)(N.a,{container:!0,spacing:3,children:Object(w.jsx)(N.a,{item:!0,xs:12,children:Object(w.jsx)(L,{text:"Deposit Sudt",onClick:ue,custom_style:te.button})})}),Object(w.jsx)(N.a,{container:!0,spacing:3,children:Object(w.jsx)(N.a,{item:!0,xs:12,children:Object(w.jsx)(L,{text:"Deploy Erc20-Proxy Contract",onClick:he,custom_style:te.button})})})]})})})};function re(){return Object(w.jsx)(s.a,{children:Object(w.jsx)(i.c,{children:Object(w.jsx)(i.a,{path:"/",children:Object(w.jsx)(ne,{})})})})}var ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,807)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};o.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(re,{})}),document.getElementById("root")),ae()}},[[783,1,2]]]);
//# sourceMappingURL=main.1651b8f1.chunk.js.map